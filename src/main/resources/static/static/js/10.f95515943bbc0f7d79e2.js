webpackJsonp([10],{CKOR:function(e,t){},V9yf:function(e,t){},crO1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("T452"),i=a("y/jF"),l=a("dybo"),n=a("Y8t/"),o={name:"tagManger",data:function(){return{seeList:[],tagListS:"",tagListLabel:"",editTagName:"",editTags:!1,seeTagData:!1,tagName:"",newAddTag:!1,tagInput:"",tagList:"",options:[],pagesize:20,total:0,currentPage:1,minilist:[],noData:!1,listOne:[{title:"标签名称"},{title:"标签类别"},{title:"粉丝数量"},{title:"个人号数量"},{title:"操作"}],width:"width01",labelId:""}},inject:["reload"],created:function(){var e=this;if(null===this.$route.query.tagCode||void 0===this.$route.query.tagCode){Object(n.c)("/lableManager/manager/1/20/-1/",{}).then(function(t){console.log(t),e.minilist=t.data,e.total=e.minilist.length}).catch(function(t){e.$message({type:"error",message:t.message})})}else this.minilist=this.$route.query.data,this.total=this.minilist.length;Object(n.b)("/personalLableCategoryManager").then(function(t){console.log(t),e.options=t.data}).catch(function(t){e.$message({type:"error",message:t.message})})},methods:{tagChangeS:function(e){var t=this;this.tagListS=e,Object(n.b)("/lableManager/getLableByCategory/"+e+"/").then(function(e){console.log(e),e.code===s.a?t.$message({type:"error",message:e.message}):(t.minilist=e.data,t.total=t.minilist.length)}).catch(function(e){t.$message({type:"error",message:e.message})})},tagChangeLabel:function(e){this.tagListLabel=e},tagChildrenManger:function(){this.$router.push({path:"/tagChildrenManger"})},tagSou:function(){var e=this;Object(n.b)("/lableManager/getLableByName/"+this.tagInput+"/").then(function(t){t.code===s.a?e.$message({type:"error",message:t.message}):(e.minilist=t.data,e.total=e.minilist.length)}).catch(function(t){e.$message({type:"error",message:t.message})})},tagChange:function(e){console.log(e),this.tagList=e},addTagSend:function(){this.newAddTag=!this.newAddTag},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){console.log("当前页: "+e),this.currentPage=e},seeTag:function(e){console.log(e),this.seeTagData=!this.seeTagData,this.seeList=e},editTag:function(e){console.log(e),this.editTags=!this.editTags,this.editTagName=e.lableName,this.tagList=e.lableCategory,this.labelId=e.lableId},addNewSureTag:function(){var e=this;if(""==this.tagName)this.$message({type:"error",message:"请输入标签名称"});else if(""==this.tagListLabel)this.$message({type:"error",message:"请输入标签类别"});else{var t={lableName:this.tagName,lableCategory:this.tagListLabel};Object(n.c)("/lableManager/addLable",t).then(function(t){t.code===s.a?e.$message({type:"error",message:t.message}):(e.$message({type:"success",message:t.message}),e.newAddTag=!e.newAddTag,e.reload())}).catch(function(t){e.$message({type:"error",message:t.message})})}},editNewSureTag:function(){var e=this,t={id:this.labelId,lableName:this.editTagName,lableCategory:this.tagList};this.editTags=!this.editTags,Object(n.c)("/lableManager/addLable",t).then(function(t){console.log(t),t.code===s.a?e.$message({type:"error",message:t.message}):(e.$message({type:"success",message:t.message}),e.reload())}).catch(function(t){e.$message({type:"error",message:t.message})})}},components:{Loading:i.a,"v-pagination":l.a}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tagManger"},[a("div",{staticClass:"tagSerch"},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入标签名称"},model:{value:e.tagInput,callback:function(t){e.tagInput=t},expression:"tagInput"}}),e._v(" "),a("span",{staticClass:"sousuo",on:{click:e.tagSou}},[e._v("搜 索")]),e._v(" "),a("span",{staticClass:"sousuo",on:{click:e.tagChildrenManger}},[a("i",{staticClass:"iconfont icon-liebiao"}),e._v("\n          标签类别管理\n        ")]),e._v(" "),a("el-select",{staticStyle:{"margin-left":"20px"},attrs:{placeholder:"请选择"},on:{change:e.tagChangeS},model:{value:e.tagListS,callback:function(t){e.tagListS=t},expression:"tagListS"}},e._l(e.options,function(e){return a("el-option",{key:e.categoryName,attrs:{label:e.categoryName,value:e.categoryName}})}),1)],1),e._v(" "),a("div",{staticClass:"sendRecord"},[a("span",{staticClass:"sendRecordO"},[e._v("标签列表")]),e._v(" "),a("span",{staticClass:"addSendRecord",on:{click:e.addTagSend}},[e._v("增加")])]),e._v(" "),a("ul",{staticClass:"groupMingDan"},e._l(e.listOne,function(t,s){return a("li",{key:s,class:e.width},[e._v(e._s(t.title))])}),0),e._v(" "),e.minilist.length>0?a("div",{staticClass:"clearfix"},[a("ul",{ref:"groupMinWrapper",staticClass:"groupMin-wrapper"},e._l(e.minilist.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),function(t,s){return a("li",{key:s,staticClass:"groupMinLi-wrapper"},[a("ul",{staticClass:"groupMinDanCon"},[a("li",{staticClass:"groupFileName",attrs:{title:t.lableName}},[e._v("\n                "+e._s(t.lableName)+"\n              ")]),e._v(" "),a("li",{attrs:{title:t.lableCategory}},[e._v(e._s(t.lableCategory))]),e._v(" "),a("li",[e._v(e._s(t.peopleNum))]),e._v(" "),a("li",[e._v(e._s(t.personalNoNum))]),e._v(" "),a("li",{staticClass:"miniHover"},[a("span",{staticClass:"miniSpa1",on:{click:function(a){return e.seeTag(t.lableShowList)}}},[e._v("\n                  查看\n                ")]),e._v(" "),a("span",{staticClass:"miniSpa1",on:{click:function(a){return e.editTag(t)}}},[e._v("\n                  编辑\n                ")])])])])}),0),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.minilist.length,expression:"minilist.length"}],staticClass:"paging-wrapper"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,15,20],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]):a("div",{staticClass:"noData"},[e._v("暂无数据")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.noData,expression:"noData"}]},[a("loading")],1),e._v(" "),a("el-dialog",{attrs:{title:"新增粉丝标签",center:"",visible:e.newAddTag},on:{"update:visible":function(t){e.newAddTag=t}}},[a("div",{staticClass:"fansTag"},[a("el-form",[a("el-form-item",{attrs:{label:"标 签 名 称：","label-width":"150px"}},[a("el-input",{attrs:{placeholder:"请输入标签名称，12字以内"},model:{value:e.tagName,callback:function(t){e.tagName=t},expression:"tagName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标 签 类 别：","label-width":"150px"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{click:e.tagChangeLabel},model:{value:e.tagListLabel,callback:function(t){e.tagListLabel=t},expression:"tagListLabel"}},e._l(e.options,function(e){return a("el-option",{key:e.categoryName,attrs:{label:e.categoryName,value:e.categoryName}})}),1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"goOut",attrs:{type:"primary"},on:{click:e.addNewSureTag}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.newAddTag=!1}}},[e._v("取 消")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"查看标签数据",center:"",visible:e.seeTagData},on:{"update:visible":function(t){e.seeTagData=t}}},[a("div",{staticClass:"tagData"},[a("ul",{staticClass:"tagDataUl"},[a("li",[e._v("个人号名称")]),e._v(" "),a("li",[e._v("粉丝数量")])]),e._v(" "),null==e.seeList||e.seeList.length<=0?a("div",{staticClass:"noData"},[e._v("暂无数据")]):a("div",[a("ul",{staticClass:"groupMin-wrapper"},e._l(e.seeList,function(t,s){return a("li",{key:s,staticClass:"groupMinLi-wrapper"},[a("ul",{staticClass:"groupMinDanCon tagGroupCon"},[a("li",{staticClass:"groupFileName",staticStyle:{"text-align":"left",padding:"0px 10px","box-sizing":"border-box"}},[e._v("\n                    "+e._s(t.personalName)+"\n                  ")]),e._v(" "),a("li",[e._v(e._s(t.peopleNum))])])])}),0)])])]),e._v(" "),a("el-dialog",{attrs:{title:"编辑粉丝标签",center:"",visible:e.editTags},on:{"update:visible":function(t){e.editTags=t}}},[a("div",{staticClass:"fansTag"},[a("el-form",[a("el-form-item",{attrs:{label:"标 签 名 称：","label-width":"150px"}},[a("el-input",{attrs:{placeholder:"请输入标签名称，12字以内"},model:{value:e.editTagName,callback:function(t){e.editTagName=t},expression:"editTagName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标 签 类 别：","label-width":"150px"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{click:e.tagChange},model:{value:e.tagList,callback:function(t){e.tagList=t},expression:"tagList"}},e._l(e.options,function(e){return a("el-option",{key:e.categoryName,attrs:{label:e.categoryName,value:e.categoryName}})}),1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"goOut",attrs:{type:"primary"},on:{click:e.editNewSureTag}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.editTags=!1}}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]};var g=a("C7Lr")(o,r,!1,function(e){a("V9yf"),a("CKOR")},"data-v-73e69ae1",null);t.default=g.exports}});