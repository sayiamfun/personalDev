webpackJsonp([7],{"/TMn":function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=s("y/jF"),n=s("T452"),i=s("dybo"),o=s("8EyE"),r=s("Y8t/"),l={name:"personalManger",data:function(){return{current:1,editId:"",id:"",personInfo:"",relayManger:!1,newClassVal:"",innerPerson:!1,minilist:[],pagesize:20,total:0,currentPage:1,noData:!1,nickName:"",rootId:"",classManger:!1,options:[],opt:[{label:"æ‰€æœ‰",value:"æ‰€æœ‰"},{label:"çº¿ä¸Š",value:"çº¿ä¸Š"},{label:"åŠ æ»¡å¥½å‹",value:"åŠ æ»¡å¥½å‹"},{label:"æš‚åœæœåŠ¡",value:"æš‚åœæœåŠ¡"},{label:"æ–­å¼€",value:"æ–­å¼€"},{label:"å°ç¦",value:"å°ç¦"},{label:"ä¸‹çº¿",value:"ä¸‹çº¿"}],listOne:[{title:"å¤´åƒ"},{title:"æ˜µç§°"},{title:"åˆ›å»ºæ—¶é—´"},{title:"å¥½å‹äººæ•°"},{title:"é”€å”®ç»„"},{title:"å¾…é€šè¿‡å¥½å‹äººæ•°"},{title:"è®¾å¤‡çŠ¶æ€"},{title:"ä¸ªäººå·ç±»åˆ«"},{title:"æ“ä½œ"}],listDia:[],width:"width01",personClass:"",personRboot:"",newPerson:!1,avatar:"",userNickName:"",userRootId:"",listNum:[]}},inject:["reload"],created:function(){var e=this;this.noData=!0;Object(r.c)("/personalManager/1/20/",{}).then(function(a){a.code===n.a?e.$message({type:"error",message:"ä¸ªäººå·åˆ—è¡¨è¯·æ±‚"+a.message}):(e.noData=!1,e.minilist=a.data.records,e.total=a.data.total)}).catch(function(a){e.$message({type:"error",message:a.message})}),Object(r.b)("/personalCategoryManager").then(function(a){console.log(a),e.options=a.data}).catch(function(a){e.$message({type:"error",message:a.message})}),Object(r.b)("/personalManager/Num").then(function(a){a.code===n.a?e.$message({type:"error",message:a.message}):e.listNum=a.data}).catch(function(a){e.$message({type:"error",message:a.message})})},methods:{go:function(e){var a=this;console.log(e);Object(r.c)("/personalManager/"+e+"/20/",{}).then(function(e){console.log(e),a.minilist=e.data.records}).catch(function(e){a.$message({type:"error",message:e.message})})},pagechange:function(e){var a=this;console.log(e);Object(r.c)("/personalManager/"+e+"/20/",{}).then(function(e){console.log(e),a.minilist=e.data.records}).catch(function(e){a.$message({type:"error",message:e.message})})},goFileName:function(e){this.$router.push({path:"/firendFansNum",query:{wxId:e.wxId,nickName:e.nickname,personalNoCategoryName:e.personalNoCategoryName,friendsNum:e.friendsNum,equipmentStatus:e.equipmentStatus,equipmentId:e.equipmentId}})},relayEidt:function(e){console.log(e),this.relayManger=!this.relayManger,this.avatar=e.avatar,this.userNickName=e.nickName,this.userRootId=e.clickId,this.id=e.id,this.personInfo=e.category},relaySurePerson:function(){var e=this,a={headPortraitUrl:this.avatar,nickname:this.userNickName,equipmentId:this.userRootId,category:this.personInfo};Object(r.d)("/personalManager/updatePersonal/"+this.id+"/",a).then(function(a){console.log(a),a.code===n.a?e.$message({type:"error",message:"ä¿®æ”¹"+a.message}):(e.$message({type:"success",message:"ä¿®æ”¹"+a.message}),e.relayManger=!e.relayManger,e.reload())}).catch(function(a){e.$message({type:"error",message:a.message})})},PersonChangeInfo:function(e){console.log(e),this.personInfo=e},relayCancelPerson:function(){this.relayManger=!this.relayManger},rootChange:function(e){console.log(e),this.personRboot=e},personClassChange:function(e){this.personClass=e},personSea:function(){var e=this,a={nickname:this.nickName,equipmentId:this.rootId,equipmentStatus:this.personRboot,personalNoCategoryName:this.personClass};Object(r.c)("/personalManager/1/20/",a).then(function(a){console.log(a),a.code===n.a?e.$message({type:"error",message:"å•Šå¶ï¼Œæ²¡æœ‰æŸ¥åˆ°æ•°æ®ğŸ‘‰"}):(console.log(a),e.minilist=a.data.records,e.total=a.data.total)}).catch(function(a){e.$message({type:"error",message:a.message})})},personclassManger:function(){var e=this;this.classManger=!this.classManger,Object(r.b)("/personalCategoryManager").then(function(a){e.listDia=a.data}).catch(function(){e.$message({type:"error",message:"æœåŠ¡å™¨å‡ºé—®é¢˜äº†!"})})},mangerNewAdd:function(){this.innerPerson=!this.innerPerson,this.changeVal=0,this.newClassVal=""},surePerson:function(){this.classManger=!this.classManger,this.reload()},cancelPerson:function(){this.classManger=!this.classManger},newSurePerson:function(){var e=this;if(""==this.newClassVal)this.$message({type:"error",message:"è¯·å¡«å†™ä¸ªäººå·ç±»åˆ«..."});else{this.innerPerson=!this.innerPerson;var a={};a=1===this.changeVal?{personalNoCategory:this.newClassVal,id:this.editId}:{superId:Object(o.b)("p_superId"),personalNoCategory:this.newClassVal,id:""},Object(r.c)("/personalCategoryManager/addCategory",a).then(function(a){a.code===n.a?e.$message({type:"error",message:a.message}):(e.$message({type:"success",message:a.message}),Object(r.b)("/personalCategoryManager").then(function(a){e.listDia=a.data}).catch(function(){e.$message({type:"error",message:"æœåŠ¡å™¨å‡ºé—®é¢˜äº†!"})}))}).catch(function(a){e.$message({type:"error",message:a.message})})}},newCancelPerson:function(){this.innerPerson=!this.innerPerson,this.newClassVal=""},editperManger:function(e){this.changeVal=1,this.innerPerson=!this.innerPerson,this.editId=e.id,this.newClassVal=e.personalNoCategory},deleteManger:function(e){var a=this;Object(r.a)("/personalCategoryManager/"+e.id+"/").then(function(e){e.code===n.a?a.$message({type:"error",message:"åˆ é™¤ç±»åˆ«"+e.message}):(a.$message({type:"success",message:"åˆ é™¤ç±»åˆ«"+e.message}),Object(r.b)("/personalCategoryManager").then(function(e){a.listDia=e.data}).catch(function(){a.$message({type:"error",message:"æœåŠ¡å™¨å‡ºé—®é¢˜äº†!"})}))}).catch(function(e){a.$message({type:"error",message:e.message})})}},components:{Loading:t.a,"v-pagination":i.a}},c={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"personalManger"},[s("div",{staticClass:"personSearch",staticStyle:{"padding-bottom":"20px"}},[s("div",{staticClass:"person_nickName"},[s("label",[e._v("ä¸ªäººå·æ˜µç§°:")]),e._v(" "),s("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"è¾“å…¥ä¸ªäººå·æ˜µç§°æŸ¥è¯¢"},model:{value:e.nickName,callback:function(a){e.nickName=a},expression:"nickName"}})],1),e._v(" "),s("div",{staticClass:"person-class",staticStyle:{"margin-left":"20px"}},[s("label",{staticStyle:{"margin-right":"20px"}},[e._v("è®¾å¤‡çŠ¶æ€:")]),e._v(" "),s("el-select",{attrs:{placeholder:"è¯·é€‰æ‹©"},on:{change:e.rootChange},model:{value:e.personRboot,callback:function(a){e.personRboot=a},expression:"personRboot"}},e._l(e.opt,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("div",{staticClass:"personSS",on:{click:e.personSea}},[s("span",[e._v("æœç´¢")])])]),e._v(" "),s("div",{staticClass:"personSearch"}),e._v(" "),s("div",{staticClass:"personInfo"},[s("div",{staticClass:"perinfo"},[e._v("ä¸ªäººå·ä¿¡æ¯")]),e._v(" "),s("ul",{staticClass:"personUl"},[s("li",[e._v("ä¸ªäººå·æ€»æ•°ï¼š"+e._s(e.listNum.total)+" ä¸ª")]),e._v(" "),s("li",[e._v("åˆè®¡å¥½å‹æ€»æ•°ï¼š"+e._s(e.listNum.friendsNum)+" äºº")]),e._v(" "),s("li",[e._v("æ‰¿æ‹…æ´»åŠ¨æ€»æ•°ï¼š"+e._s(e.listNum.activityNum)+" ä¸ª")])])]),e._v(" "),s("div",{staticClass:"personData"},[s("span",{on:{click:e.personclassManger}},[e._v("ç±»åˆ«ç®¡ç†")])]),e._v(" "),s("div",{staticClass:"groupCategory"},[s("ul",{staticClass:"groupMingDan"},e._l(e.listOne,function(a,t){return s("li",{key:t,class:e.width},[e._v(e._s(a.title))])}),0)]),e._v(" "),e.minilist.length>0?s("div",[s("ul",{staticClass:"groupMin-wrapper"},e._l(e.minilist.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),function(a,t){return s("li",{key:t,staticClass:"groupMinLi-wrapper"},[s("ul",{staticClass:"groupMinDanCon"},[s("li",{staticClass:"groupFileName"},[s("img",{staticStyle:{width:"30px",height:"30px",margin:"0 auto","vertical-align":"middle"},attrs:{src:a.avatar,alt:""}})]),e._v(" "),s("li",{staticClass:"hoverPerson",attrs:{title:a.nickName},on:{click:function(s){return e.goFileName(a)}}},[s("span",[e._v(e._s(a.nickName))]),e._v(" "),s("img",{staticClass:"img1",attrs:{src:a.qrCode}})]),e._v(" "),s("li",{attrs:{title:a.projectInstanceRegTime}},[e._v(e._s(a.projectInstanceRegTime))]),e._v(" "),s("li",[e._v(e._s(a.friendsNum))]),e._v(" "),a.group?s("li",[e._v(e._s(a.group))]):s("li",[e._v("æ— ")]),e._v(" "),s("li",[e._v(e._s(a.waitingNums))]),e._v(" "),s("li",[e._v(e._s(a.status))]),e._v(" "),a.category?s("li",[e._v(e._s(a.category))]):s("li",[e._v("æ— ")]),e._v(" "),s("li",{staticClass:"miniHover"},[s("span",{staticClass:"miniSpa1",on:{click:function(s){return e.relayEidt(a)}}},[s("i",{staticClass:"iconfont icon-xiugai",staticStyle:{"vertical-align":"middle"}}),e._v("ç¼–è¾‘\n                ")])])])])}),0),e._v(" "),s("v-pagination",{attrs:{total:e.total,"current-page":e.current,num:e.total},on:{pagechange:e.pagechange,go:e.go}})],1):s("div",{staticClass:"noData"},[e._v("æš‚æ— æ•°æ®")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.noData,expression:"noData"}]},[s("loading")],1),e._v(" "),s("el-dialog",{attrs:{title:"æ›´æ”¹ä¸ªäººå·ä¿¡æ¯",width:"30%",center:"",visible:e.relayManger},on:{"update:visible":function(a){e.relayManger=a}}},[s("div",{staticClass:"changeCon"},[s("div",{staticClass:"changeHead"},[s("img",{attrs:{src:e.avatar}}),e._v(" "),s("div",{staticClass:"changeWord"},[s("span",[e._v(e._s(e.userNickName))]),e._v(" "),s("span",[e._v(e._s(e.userRootId))])])]),e._v(" "),s("el-form",{staticStyle:{"padding-top":"20px"}},[s("el-form-item",{attrs:{label:"ç±» åˆ«ï¼š","label-width":"100px"}},[s("el-select",{attrs:{placeholder:"è¯·é€‰æ‹©"},on:{change:e.PersonChangeInfo},model:{value:e.personInfo,callback:function(a){e.personInfo=a},expression:"personInfo"}},e._l(e.options,function(e){return s("el-option",{key:e.value,attrs:{label:e.personalNoCategory,value:e.personalNoCategory}})}),1)],1)],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"orange",attrs:{type:"primary"},on:{click:e.relaySurePerson}},[e._v("ç¡® å®š")]),e._v(" "),s("el-button",{on:{click:e.relayCancelPerson}},[e._v("å– æ¶ˆ")])],1)]),e._v(" "),s("el-dialog",{attrs:{title:"ç±»åˆ«ç®¡ç†",center:"",visible:e.classManger},on:{"update:visible":function(a){e.classManger=a}}},[s("div",{staticClass:"classPersonAdd"},[s("span",{staticClass:"clNewAdd",on:{click:e.mangerNewAdd}},[e._v("æ–°å¢")]),e._v(" "),s("ul",{staticClass:"cl-ul"},[s("li",[e._v("ä¸ªäººå·ç±»åˆ«")]),e._v(" "),s("li",[e._v("æ“ä½œ")])]),e._v(" "),s("ul",{staticClass:"groupMin-wrapper"},e._l(e.listDia,function(a,t){return s("li",{key:t,staticClass:"groupMinLi-wrapper"},[s("ul",{staticClass:"groupMinDanCon listPer"},[s("li",{staticClass:"groupFileName"},[e._v("\n                  "+e._s(a.personalNoCategory)+"\n                ")]),e._v(" "),s("li",{staticClass:"miniHover"},[s("span",{staticClass:"miniSpa1",on:{click:function(s){return e.editperManger(a)}}},[s("i",{staticClass:"iconfont icon-xiugai",staticStyle:{"vertical-align":"middle"}}),e._v("ç¼–è¾‘\n                  ")]),e._v(" "),s("span",{staticClass:"miniSpa1",on:{click:function(s){return e.deleteManger(a)}}},[s("i",{staticClass:"iconfont icon-xiugai",staticStyle:{"vertical-align":"middle"}}),e._v("åˆ é™¤\n                  ")])])])])}),0)]),e._v(" "),s("el-dialog",{attrs:{width:"30%",title:"æ–°å¢ä¸ªäººå·ç±»åˆ«",center:"",visible:e.innerPerson,"append-to-body":""},on:{"update:visible":function(a){e.innerPerson=a}}},[s("div",{staticClass:"xinzeng"},[s("label",{staticStyle:{width:"200px","line-height":"40px"}},[e._v("åç§°ï¼š")]),e._v(" "),s("el-input",{attrs:{placeholder:"è¯·è¾“å…¥ç±»åˆ«åç§°ï¼Œ10å­—ä»¥å†…",maxlength:"10"},model:{value:e.newClassVal,callback:function(a){e.newClassVal=a},expression:"newClassVal"}})],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"orange",attrs:{type:"primary"},on:{click:e.newSurePerson}},[e._v("ç¡® å®š")]),e._v(" "),s("el-button",{on:{click:e.newCancelPerson}},[e._v("å– æ¶ˆ")])],1)]),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"orange",attrs:{type:"primary"},on:{click:e.surePerson}},[e._v("ç¡® å®š")]),e._v(" "),s("el-button",{on:{click:e.cancelPerson}},[e._v("å– æ¶ˆ")])],1)],1)],1)},staticRenderFns:[]};var g=s("C7Lr")(l,c,!1,function(e){s("xfeq"),s("Ga9m")},"data-v-7e10db38",null);a.default=g.exports},Ga9m:function(e,a){},xfeq:function(e,a){}});