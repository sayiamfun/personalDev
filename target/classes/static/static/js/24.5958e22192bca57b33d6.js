webpackJsonp([24],{B0Ef:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("y/jF"),n=a("T452"),i=a("Y8t/"),l=a("8EyE"),r={name:"channelManger",data:function(){return{deleteDio:!1,title:"",createName:"",create_time:"",chaName:!1,remas:!1,pagesize:20,total:0,currentPage:1,listOne:[{title:"渠道名称"},{title:"创建人"},{title:"创建时间"},{title:"操作"}],newAddChannel:!1,minilist:[],noData:!1,width:"width01",channelName:"",remarks:"",diaShow:"",editId:"",deleteId:"",dateTime:"",superuserId:""}},inject:["reload"],created:function(){var e=this;this.noData=!0;Object(i.b)("/channelManger",{}).then(function(t){console.log(t),0===t.code?(e.noData=!1,e.minilist=t.data,e.total=e.minilist.length):e.$message({type:"error",message:t.message})}).catch(function(t){e.$message({type:"error",message:t.message})}),this.createName=Object(l.b)("p_superName"),this.superuserId=Object(l.b)("p_superId")},mounted:function(){},methods:{deleteSureChannel:function(){var e=this;Object(i.a)("/channelManger/"+this.deleteId+"/").then(function(t){t.code===n.a?e.$message({type:"error",message:t.message}):(e.$message({type:"success",message:"删除"+t.message}),e.reload())}).catch(function(t){e.$message({type:"error",message:t.message})})},deleteCancelChannel:function(){this.deleteDio=!this.deleteDio},channelNewAdd:function(){this.newAddChannel=!this.newAddChannel,this.diaShow=0,this.title="新增渠道管理";var e=(new Date).getTime(),t=new Date,a=t.getFullYear(),s=t.getMonth()+1,n=t.getDate(),i=t.getHours(),l=t.getMinutes(),r=t.getSeconds();s>=1&&s<=9&&(s="0"+s),n>=0&&n<=9&&(n="0"+n),this.create_time=a+"-"+s+"-"+n+" "+i+":"+l+":"+r,console.log("当前时间戳是："+e),console.log("当前时间是："+this.create_time),this.dateTime=e},handleSizeChange:function(e){console.log(e),this.pagesize=e},handleCurrentChange:function(e){console.log("当前页: "+e),this.currentPage=e},editChannel:function(e){console.log(e),this.channelName=e.channelName,this.remarks=e.remarks,this.editId=e.id,this.create_time=e.createTime,this.newAddChannel=!this.newAddChannel,this.diaShow=1,this.title="修改渠道管理"},seeChannel:function(e){this.channelName=e.channelName,this.remarks=e.remarks,this.editId=e.id,this.create_time=e.createTime,this.newAddChannel=!this.newAddChannel,this.diaShow=2,this.chaName=!0,this.remas=!0,this.title="查看渠道管理"},deleteChannel:function(e){this.deleteId=e.id,this.deleteDio=!this.deleteDio},sureChannel:function(){var e=this;if(""==this.channelName)this.$message({type:"error",message:"请输入渠道名称"});else if(0===this.diaShow){var t={channelName:this.channelName,remarks:this.remarks,superId:this.superuserId,superName:this.createName,createTime:this.create_time,id:""};Object(i.c)("/channelManger/addChannel",t).then(function(t){console.log(t),t.code===n.a?e.$message({type:"error",message:"新增渠道"+t.message}):(e.$message({type:"success",message:"新增渠道"+t.message}),e.newAddChannel=!e.newAddChannel,e.reload())}).catch(function(t){e.$message({type:"error",message:t.message})})}else if(1===this.diaShow){var a={channelName:this.channelName,remarks:this.remarks,superId:this.superuserId,superName:this.createName,createTime:this.dateTime,id:this.editId};Object(i.c)("/channelManger/addChannel",a).then(function(t){console.log(t),t.code===n.a?e.$message({type:"error",message:t.message}):(e.$message({type:"success",message:t.message}),e.newAddChannel=!e.newAddChannel,e.reload())}).catch(function(t){e.$message({type:"error",message:t.message})})}else this.diaShow},cancelChannel:function(){this.newAddChannel=!this.newAddChannel,this.channelName="",this.remarks="",this.chaName=!1,this.remas=!1}},components:{Loading:s.a},watch:{newAddChannel:function(e,t){!0===t&&(this.chaName=!1,this.remas=!1,this.channelName="",this.remarks="")}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"channelManger"},[a("div",{staticClass:"channelAdd"},[a("span",{staticClass:"adver-NewAdd",on:{click:e.channelNewAdd}},[a("i",{staticClass:"el-icon-plus"}),e._v("\n      新增")])]),e._v(" "),a("div",{staticClass:"groupCategory"},[a("ul",{staticClass:"groupMingDan"},e._l(e.listOne,function(t,s){return a("li",{key:s,class:e.width},[e._v(e._s(t.title))])}),0)]),e._v(" "),e.minilist.length>0?a("div",[a("ul",{staticClass:"groupMin-wrapper"},e._l(e.minilist.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),function(t,s){return a("li",{key:s,staticClass:"groupMinLi-wrapper"},[a("ul",{staticClass:"groupMinDanCon"},[a("li",{staticClass:"groupFileName",attrs:{title:t.channelName}},[e._v(e._s(t.channelName))]),e._v(" "),a("li",{staticStyle:{padding:"0px 20px","box-sizing":"border-box"},attrs:{title:t.superName}},[e._v(e._s(t.superName))]),e._v(" "),a("li",{staticClass:"hoverSeeCon",attrs:{title:t.createTime}},[e._v(e._s(t.createTime))]),e._v(" "),a("li",{staticClass:"miniHover"},[a("span",{staticClass:"miniSpa1",on:{click:function(a){return e.editChannel(t)}}},[a("i",{staticClass:"iconfont icon-xiugai",staticStyle:{"vertical-align":"middle"}}),e._v("修改\n            ")]),e._v(" "),a("span",{staticClass:"miniSpa1",on:{click:function(a){return e.seeChannel(t)}}},[a("i",{staticClass:"iconfont icon-yanjing",staticStyle:{"vertical-align":"middle"}}),e._v("查看\n            ")]),e._v(" "),a("span",{staticClass:"miniSpa1",on:{click:function(a){return e.deleteChannel(t)}}},[a("i",{staticClass:"iconfont icon-jiufuqianbaoicon05",staticStyle:{"vertical-align":"middle"}}),e._v("删除\n            ")])])])])}),0),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.minilist.length,expression:"minilist.length"}],staticClass:"paging-wrapper"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,15,20],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]):a("div",{staticClass:"noData"},[e._v("暂无数据")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.noData,expression:"noData"}]},[a("loading")],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,width:"30%",center:"",visible:e.newAddChannel},on:{"update:visible":function(t){e.newAddChannel=t}}},[a("div",{staticClass:"newdialog"},[a("el-form",[a("el-form-item",{attrs:{label:"渠道名称：","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"请输入渠道名称，20字以内... ",disabled:e.chaName,maxlength:"20"},model:{value:e.channelName,callback:function(t){e.channelName=t},expression:"channelName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建人：","label-width":"100px"}},[a("span",[e._v(e._s(e.createName))])]),e._v(" "),a("el-form-item",{attrs:{label:"创建时间：","label-width":"100px"}},[a("span",[e._v(e._s(e.create_time))])]),e._v(" "),a("el-form-item",{attrs:{label:"备注：","label-width":"100px"}},[a("el-input",{attrs:{disabled:e.remas},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}})],1)],1)],1),e._v(" "),0===e.diaShow||1===e.diaShow?a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"orange",attrs:{type:"primary"},on:{click:e.sureChannel}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancelChannel}},[e._v("取 消")])],1):a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelChannel}},[e._v("取 消")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"是否删除本条渠道",width:"20%",center:"",visible:e.deleteDio},on:{"update:visible":function(t){e.deleteDio=t}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"orange",attrs:{type:"primary"},on:{click:e.deleteSureChannel}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.deleteCancelChannel}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]};var o=a("C7Lr")(r,c,!1,function(e){a("DgxH"),a("BJlO")},"data-v-15fd62d2",null);t.default=o.exports},BJlO:function(e,t){},DgxH:function(e,t){}});