webpackJsonp([7],{"/TMn":function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=s("y/jF"),n=s("T452"),i=s("dybo"),o=s("8EyE"),r=s("Y8t/"),l={name:"personalManger",data:function(){return{current:1,editId:"",id:"",personInfo:"",relayManger:!1,newClassVal:"",innerPerson:!1,minilist:[],pagesize:20,total:0,currentPage:1,noData:!1,nickName:"",rootId:"",classManger:!1,options:[],opt:[{label:"ÊâÄÊúâ",value:"ÊâÄÊúâ"},{label:"Á∫ø‰∏ä",value:"Á∫ø‰∏ä"},{label:"Âä†Êª°Â•ΩÂèã",value:"Âä†Êª°Â•ΩÂèã"},{label:"ÊöÇÂÅúÊúçÂä°",value:"ÊöÇÂÅúÊúçÂä°"},{label:"Êñ≠ÂºÄ",value:"Êñ≠ÂºÄ"},{label:"Â∞ÅÁ¶Å",value:"Â∞ÅÁ¶Å"},{label:"‰∏ãÁ∫ø",value:"‰∏ãÁ∫ø"}],listOne:[{title:"Â§¥ÂÉè"},{title:"ÊòµÁß∞"},{title:"ÂàõÂª∫Êó∂Èó¥"},{title:"Â•ΩÂèã‰∫∫Êï∞"},{title:"ÈîÄÂîÆÁªÑ"},{title:"ÂæÖÈÄöËøáÂ•ΩÂèã‰∫∫Êï∞"},{title:"ËÆæÂ§áÁä∂ÊÄÅ"},{title:"‰∏™‰∫∫Âè∑Á±ªÂà´"},{title:"Êìç‰Ωú"}],listDia:[],width:"width01",personClass:"",personRboot:"",newPerson:!1,avatar:"",userNickName:"",userRootId:"",listNum:[]}},inject:["reload"],created:function(){var e=this;this.noData=!0;Object(r.c)("/personalManager/1/20/",{}).then(function(a){a.code===n.a?e.$message({type:"error",message:"‰∏™‰∫∫Âè∑ÂàóË°®ËØ∑Ê±Ç"+a.message}):(e.noData=!1,e.minilist=a.data.records,e.total=a.data.total)}).catch(function(a){e.$message({type:"error",message:a.message})}),Object(r.b)("/personalCategoryManager").then(function(a){console.log(a),e.options=a.data}).catch(function(a){e.$message({type:"error",message:a.message})}),Object(r.b)("/personalManager/Num").then(function(a){a.code===n.a?e.$message({type:"error",message:a.message}):e.listNum=a.data}).catch(function(a){e.$message({type:"error",message:a.message})})},methods:{go:function(e){var a=this;console.log(e);Object(r.c)("/personalManager/"+e+"/20/",{}).then(function(e){console.log(e),a.minilist=e.data.records}).catch(function(e){a.$message({type:"error",message:e.message})})},pagechange:function(e){var a=this;console.log(e);Object(r.c)("/personalManager/"+e+"/20/",{}).then(function(e){console.log(e),a.minilist=e.data.records}).catch(function(e){a.$message({type:"error",message:e.message})})},goFileName:function(e){this.$router.push({path:"/firendFansNum",query:{wxId:e.wxId,nickName:e.nickname,personalNoCategoryName:e.personalNoCategoryName,friendsNum:e.friendsNum,equipmentStatus:e.equipmentStatus,equipmentId:e.equipmentId}})},relayEidt:function(e){console.log(e),this.relayManger=!this.relayManger,this.avatar=e.avatar,this.userNickName=e.nickName,this.userRootId=e.clickId,this.id=e.id,this.personInfo=e.category},relaySurePerson:function(){var e=this,a={headPortraitUrl:this.avatar,nickname:this.userNickName,equipmentId:this.userRootId,category:this.personInfo};Object(r.d)("/personalManager/updatePersonal/"+this.id+"/",a).then(function(a){console.log(a),a.code===n.a?e.$message({type:"error",message:"‰øÆÊîπ"+a.message}):(e.$message({type:"success",message:"‰øÆÊîπ"+a.message}),e.relayManger=!e.relayManger,e.reload())}).catch(function(a){e.$message({type:"error",message:a.message})})},PersonChangeInfo:function(e){console.log(e),this.personInfo=e},relayCancelPerson:function(){this.relayManger=!this.relayManger},rootChange:function(e){console.log(e),this.personRboot=e},personClassChange:function(e){this.personClass=e},personSea:function(){var e=this,a={nickname:this.nickName,equipmentId:this.rootId,equipmentStatus:this.personRboot,personalNoCategoryName:this.personClass};Object(r.c)("/personalManager/1/20/",a).then(function(a){console.log(a),a.code===n.a?e.$message({type:"error",message:"ÂïäÂÅ∂ÔºåÊ≤°ÊúâÊü•Âà∞Êï∞ÊçÆüëâ"}):(console.log(a),e.minilist=a.data.records,e.total=a.data.total)}).catch(function(a){e.$message({type:"error",message:a.message})})},personclassManger:function(){var e=this;this.classManger=!this.classManger,Object(r.b)("/personalCategoryManager").then(function(a){e.listDia=a.data}).catch(function(){e.$message({type:"error",message:"ÊúçÂä°Âô®Âá∫ÈóÆÈ¢ò‰∫Ü!"})})},mangerNewAdd:function(){this.innerPerson=!this.innerPerson,this.changeVal=0,this.newClassVal=""},surePerson:function(){this.classManger=!this.classManger,this.reload()},cancelPerson:function(){this.classManger=!this.classManger},newSurePerson:function(){var e=this;if(""==this.newClassVal)this.$message({type:"error",message:"ËØ∑Â°´ÂÜô‰∏™‰∫∫Âè∑Á±ªÂà´..."});else{this.innerPerson=!this.innerPerson;var a={};a=1===this.changeVal?{personalNoCategory:this.newClassVal,id:this.editId}:{superId:Object(o.b)("p_superId"),personalNoCategory:this.newClassVal,id:""},Object(r.c)("/personalCategoryManager/addCategory",a).then(function(a){a.code===n.a?e.$message({type:"error",message:a.message}):(e.$message({type:"success",message:a.message}),Object(r.b)("/personalCategoryManager").then(function(a){e.listDia=a.data}).catch(function(){e.$message({type:"error",message:"ÊúçÂä°Âô®Âá∫ÈóÆÈ¢ò‰∫Ü!"})}))}).catch(function(a){e.$message({type:"error",message:a.message})})}},newCancelPerson:function(){this.innerPerson=!this.innerPerson,this.newClassVal=""},editperManger:function(e){this.changeVal=1,this.innerPerson=!this.innerPerson,this.editId=e.id,this.newClassVal=e.personalNoCategory},deleteManger:function(e){var a=this;Object(r.a)("/personalCategoryManager/"+e.id+"/").then(function(e){e.code===n.a?a.$message({type:"error",message:"Âà†Èô§Á±ªÂà´"+e.message}):(a.$message({type:"success",message:"Âà†Èô§Á±ªÂà´"+e.message}),Object(r.b)("/personalCategoryManager").then(function(e){a.listDia=e.data}).catch(function(){a.$message({type:"error",message:"ÊúçÂä°Âô®Âá∫ÈóÆÈ¢ò‰∫Ü!"})}))}).catch(function(e){a.$message({type:"error",message:e.message})})}},components:{Loading:t.a,"v-pagination":i.a}},c={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"personalManger"},[s("div",{staticClass:"personSearch",staticStyle:{"padding-bottom":"20px"}},[s("div",{staticClass:"person_nickName"},[s("label",[e._v("‰∏™‰∫∫Âè∑ÊòµÁß∞:")]),e._v(" "),s("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"ËæìÂÖ•‰∏™‰∫∫Âè∑ÊòµÁß∞Êü•ËØ¢"},model:{value:e.nickName,callback:function(a){e.nickName=a},expression:"nickName"}})],1),e._v(" "),s("div",{staticClass:"person-class",staticStyle:{"margin-left":"20px"}},[s("label",{staticStyle:{"margin-right":"20px"}},[e._v("ËÆæÂ§áÁä∂ÊÄÅ:")]),e._v(" "),s("el-select",{attrs:{placeholder:"ËØ∑ÈÄâÊã©"},on:{change:e.rootChange},model:{value:e.personRboot,callback:function(a){e.personRboot=a},expression:"personRboot"}},e._l(e.opt,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("div",{staticClass:"personSS",on:{click:e.personSea}},[s("span",[e._v("ÊêúÁ¥¢")])])]),e._v(" "),s("div",{staticClass:"personSearch"}),e._v(" "),s("div",{staticClass:"personInfo"},[s("div",{staticClass:"perinfo"},[e._v("‰∏™‰∫∫Âè∑‰ø°ÊÅØ")]),e._v(" "),s("ul",{staticClass:"personUl"},[s("li",[e._v("‰∏™‰∫∫Âè∑ÊÄªÊï∞Ôºö"+e._s(e.listNum.total)+" ‰∏™")]),e._v(" "),s("li",[e._v("ÂêàËÆ°Â•ΩÂèãÊÄªÊï∞Ôºö"+e._s(e.listNum.friendsNum)+" ‰∫∫")]),e._v(" "),s("li",[e._v("ÊâøÊãÖÊ¥ªÂä®ÊÄªÊï∞Ôºö"+e._s(e.listNum.activityNum)+" ‰∏™")])])]),e._v(" "),s("div",{staticClass:"personData"},[s("span",{on:{click:e.personclassManger}},[e._v("Á±ªÂà´ÁÆ°ÁêÜ")])]),e._v(" "),s("div",{staticClass:"groupCategory"},[s("ul",{staticClass:"groupMingDan"},e._l(e.listOne,function(a,t){return s("li",{key:t,class:e.width},[e._v(e._s(a.title))])}),0)]),e._v(" "),e.minilist.length>0?s("div",[s("ul",{staticClass:"groupMin-wrapper"},e._l(e.minilist.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),function(a,t){return s("li",{key:t,staticClass:"groupMinLi-wrapper"},[s("ul",{staticClass:"groupMinDanCon"},[s("li",{staticClass:"groupFileName"},[s("img",{staticStyle:{width:"30px",height:"30px",margin:"0 auto","vertical-align":"middle"},attrs:{src:a.avatar,alt:""}})]),e._v(" "),s("li",{staticClass:"hoverPerson",attrs:{title:a.nickName},on:{click:function(s){return e.goFileName(a)}}},[s("span",[e._v(e._s(a.nickName))]),e._v(" "),s("img",{staticClass:"img1",attrs:{src:a.qrCode}})]),e._v(" "),s("li",{attrs:{title:a.projectInstanceRegTime}},[e._v(e._s(a.projectInstanceRegTime))]),e._v(" "),s("li",[e._v(e._s(a.friendsNum))]),e._v(" "),a.group?s("li",[e._v(e._s(a.group))]):s("li",[e._v("Êó†")]),e._v(" "),s("li",[e._v(e._s(a.waitingNums))]),e._v(" "),s("li",[e._v(e._s(a.status))]),e._v(" "),a.category?s("li",[e._v(e._s(a.category))]):s("li",[e._v("Êó†")]),e._v(" "),s("li",{staticClass:"miniHover"},[s("span",{staticClass:"miniSpa1",on:{click:function(s){return e.relayEidt(a)}}},[s("i",{staticClass:"iconfont icon-xiugai",staticStyle:{"vertical-align":"middle"}}),e._v("ÁºñËæë\n                ")])])])])}),0),e._v(" "),s("v-pagination",{attrs:{total:e.total,"current-page":e.current,num:e.total},on:{pagechange:e.pagechange,go:e.go}})],1):s("div",{staticClass:"noData"},[e._v("ÊöÇÊó†Êï∞ÊçÆ")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.noData,expression:"noData"}]},[s("loading")],1),e._v(" "),s("el-dialog",{attrs:{title:"Êõ¥Êîπ‰∏™‰∫∫Âè∑‰ø°ÊÅØ",width:"30%",center:"",visible:e.relayManger},on:{"update:visible":function(a){e.relayManger=a}}},[s("div",{staticClass:"changeCon"},[s("div",{staticClass:"changeHead"},[s("img",{attrs:{src:e.avatar}}),e._v(" "),s("div",{staticClass:"changeWord"},[s("span",[e._v(e._s(e.userNickName))]),e._v(" "),s("span",[e._v(e._s(e.userRootId))])])]),e._v(" "),s("el-form",{staticStyle:{"padding-top":"20px"}},[s("el-form-item",{attrs:{label:"Á±ª Âà´Ôºö","label-width":"100px"}},[s("el-select",{attrs:{placeholder:"ËØ∑ÈÄâÊã©"},on:{change:e.PersonChangeInfo},model:{value:e.personInfo,callback:function(a){e.personInfo=a},expression:"personInfo"}},e._l(e.options,function(e){return s("el-option",{key:e.value,attrs:{label:e.personalNoCategory,value:e.personalNoCategory}})}),1)],1)],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"orange",attrs:{type:"primary"},on:{click:e.relaySurePerson}},[e._v("Á°Æ ÂÆö")]),e._v(" "),s("el-button",{on:{click:e.relayCancelPerson}},[e._v("Âèñ Ê∂à")])],1)]),e._v(" "),s("el-dialog",{attrs:{title:"Á±ªÂà´ÁÆ°ÁêÜ",center:"",visible:e.classManger},on:{"update:visible":function(a){e.classManger=a}}},[s("div",{staticClass:"classPersonAdd"},[s("span",{staticClass:"clNewAdd",on:{click:e.mangerNewAdd}},[e._v("Êñ∞Â¢û")]),e._v(" "),s("ul",{staticClass:"cl-ul"},[s("li",[e._v("‰∏™‰∫∫Âè∑Á±ªÂà´")]),e._v(" "),s("li",[e._v("Êìç‰Ωú")])]),e._v(" "),s("ul",{staticClass:"groupMin-wrapper"},e._l(e.listDia,function(a,t){return s("li",{key:t,staticClass:"groupMinLi-wrapper"},[s("ul",{staticClass:"groupMinDanCon listPer"},[s("li",{staticClass:"groupFileName"},[e._v("\n                  "+e._s(a.personalNoCategory)+"\n                ")]),e._v(" "),s("li",{staticClass:"miniHover"},[s("span",{staticClass:"miniSpa1",on:{click:function(s){return e.editperManger(a)}}},[s("i",{staticClass:"iconfont icon-xiugai",staticStyle:{"vertical-align":"middle"}}),e._v("ÁºñËæë\n                  ")]),e._v(" "),s("span",{staticClass:"miniSpa1",on:{click:function(s){return e.deleteManger(a)}}},[s("i",{staticClass:"iconfont icon-xiugai",staticStyle:{"vertical-align":"middle"}}),e._v("Âà†Èô§\n                  ")])])])])}),0)]),e._v(" "),s("el-dialog",{attrs:{width:"30%",title:"Êñ∞Â¢û‰∏™‰∫∫Âè∑Á±ªÂà´",center:"",visible:e.innerPerson,"append-to-body":""},on:{"update:visible":function(a){e.innerPerson=a}}},[s("div",{staticClass:"xinzeng"},[s("label",{staticStyle:{width:"200px","line-height":"40px"}},[e._v("ÂêçÁß∞Ôºö")]),e._v(" "),s("el-input",{attrs:{placeholder:"ËØ∑ËæìÂÖ•Á±ªÂà´ÂêçÁß∞Ôºå10Â≠ó‰ª•ÂÜÖ",maxlength:"10"},model:{value:e.newClassVal,callback:function(a){e.newClassVal=a},expression:"newClassVal"}})],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"orange",attrs:{type:"primary"},on:{click:e.newSurePerson}},[e._v("Á°Æ ÂÆö")]),e._v(" "),s("el-button",{on:{click:e.newCancelPerson}},[e._v("Âèñ Ê∂à")])],1)]),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"orange",attrs:{type:"primary"},on:{click:e.surePerson}},[e._v("Á°Æ ÂÆö")]),e._v(" "),s("el-button",{on:{click:e.cancelPerson}},[e._v("Âèñ Ê∂à")])],1)],1)],1)},staticRenderFns:[]};var g=s("C7Lr")(l,c,!1,function(e){s("xfeq"),s("Ga9m")},"data-v-7e10db38",null);a.default=g.exports},Ga9m:function(e,a){},xfeq:function(e,a){}});