webpackJsonp([12],{crO1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("T452"),i=a("y/jF"),l=a("dybo"),n=a("Y8t/"),o={name:"tagManger",data:function(){return{seeList:[],tagListS:"",tagListLabel:"",editTagName:"",editTags:!1,seeTagData:!1,tagName:"",newAddTag:!1,tagInput:"",tagList:"",options:[],pagesize:20,total:0,currentPage:1,minilist:[],noData:!1,listOne:[{title:"标签名称"},{title:"标签类别"},{title:"粉丝数量"},{title:"个人号数量"},{title:"操作"}],width:"width01",labelId:""}},inject:["reload"],created:function(){var t=this;if(null===this.$route.query.tagCode||void 0===this.$route.query.tagCode){Object(n.c)("/lableManager/manager/1/20/-1/",{}).then(function(e){console.log(e),t.minilist=e.data,t.total=t.minilist.length})}else this.minilist=this.$route.query.data,this.total=this.minilist.length;Object(n.b)("/personalLableCategoryManager").then(function(e){console.log(e),t.options=e.data})},methods:{tagChangeS:function(t){var e=this;this.tagListS=t,Object(n.b)("/lableManager/getLableByCategory/"+t+"/").then(function(t){console.log(t),t.code===s.a?e.$message({type:"error",message:t.message}):(e.minilist=t.data,e.total=e.minilist.length)})},tagChangeLabel:function(t){this.tagListLabel=t},tagChildrenManger:function(){this.$router.push({path:"/tagChildrenManger"})},tagSou:function(){var t=this;Object(n.b)("/lableManager/getLableByName/"+this.tagInput+"/").then(function(e){e.code===s.a?t.$message({type:"error",message:e.message}):(t.minilist=e.data,t.total=t.minilist.length)})},tagChange:function(t){console.log(t),this.tagList=t},addTagSend:function(){this.newAddTag=!this.newAddTag},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){console.log("当前页: "+t),this.currentPage=t},seeTag:function(t){console.log(t),this.seeTagData=!this.seeTagData,this.seeList=t},editTag:function(t){console.log(t),this.editTags=!this.editTags,this.editTagName=t.lableName,this.tagList=t.lableCategory,this.labelId=t.lableId},addNewSureTag:function(){var t=this,e={lableName:this.tagName,lableCategory:this.tagListLabel};this.newAddTag=!this.newAddTag,Object(n.c)("/lableManager/addLable",e).then(function(e){e.code===s.a?t.$message({type:"error",message:e.message}):(t.$message({type:"success",message:e.message}),t.reload())})},editNewSureTag:function(){var t=this,e={id:this.labelId,lableName:this.editTagName,lableCategory:this.tagList};this.editTags=!this.editTags,Object(n.c)("/lableManager/addLable",e).then(function(e){console.log(e),e.code===s.a?t.$message({type:"error",message:e.message}):(t.$message({type:"success",message:e.message}),t.reload())})}},components:{Loading:i.a,"v-pagination":l.a}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tagManger"},[a("div",{staticClass:"tagSerch"},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入标签名称"},model:{value:t.tagInput,callback:function(e){t.tagInput=e},expression:"tagInput"}}),t._v(" "),a("span",{staticClass:"sousuo",on:{click:t.tagSou}},[t._v("搜 索")]),t._v(" "),a("span",{staticClass:"sousuo",on:{click:t.tagChildrenManger}},[a("i",{staticClass:"iconfont icon-liebiao"}),t._v("\n          标签类别管理\n        ")]),t._v(" "),a("el-select",{staticStyle:{"margin-left":"20px"},attrs:{placeholder:"请选择"},on:{change:t.tagChangeS},model:{value:t.tagListS,callback:function(e){t.tagListS=e},expression:"tagListS"}},t._l(t.options,function(t){return a("el-option",{key:t.categoryName,attrs:{label:t.categoryName,value:t.categoryName}})}),1)],1),t._v(" "),a("div",{staticClass:"sendRecord"},[a("span",{staticClass:"sendRecordO"},[t._v("标签列表")]),t._v(" "),a("span",{staticClass:"addSendRecord",on:{click:t.addTagSend}},[t._v("增加")])]),t._v(" "),a("ul",{staticClass:"groupMingDan"},t._l(t.listOne,function(e,s){return a("li",{key:s,class:t.width},[t._v(t._s(e.title))])}),0),t._v(" "),t.minilist.length>0?a("div",{staticClass:"clearfix"},[a("ul",{ref:"groupMinWrapper",staticClass:"groupMin-wrapper"},t._l(t.minilist.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),function(e,s){return a("li",{key:s,staticClass:"groupMinLi-wrapper"},[a("ul",{staticClass:"groupMinDanCon"},[a("li",{staticClass:"groupFileName",attrs:{title:e.lableName}},[t._v("\n                "+t._s(e.lableName)+"\n              ")]),t._v(" "),a("li",{attrs:{title:e.lableCategory}},[t._v(t._s(e.lableCategory))]),t._v(" "),a("li",[t._v(t._s(e.peopleNum))]),t._v(" "),a("li",[t._v(t._s(e.personalNoNum))]),t._v(" "),a("li",{staticClass:"miniHover"},[a("span",{staticClass:"miniSpa1",on:{click:function(a){return t.seeTag(e.lableShowList)}}},[t._v("\n                  查看\n                ")]),t._v(" "),a("span",{staticClass:"miniSpa1",on:{click:function(a){return t.editTag(e)}}},[t._v("\n                  编辑\n                ")])])])])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.minilist.length,expression:"minilist.length"}],staticClass:"paging-wrapper"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[5,10,15,20],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]):a("div",{staticClass:"noData"},[t._v("暂无数据")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.noData,expression:"noData"}]},[a("loading")],1),t._v(" "),a("el-dialog",{attrs:{title:"新增粉丝标签",center:"",visible:t.newAddTag},on:{"update:visible":function(e){t.newAddTag=e}}},[a("div",{staticClass:"fansTag"},[a("el-form",[a("el-form-item",{attrs:{label:"标 签 名 称：","label-width":"150px"}},[a("el-input",{attrs:{placeholder:"请输入标签名称，12字以内"},model:{value:t.tagName,callback:function(e){t.tagName=e},expression:"tagName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"标 签 类 别：","label-width":"150px"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{click:t.tagChangeLabel},model:{value:t.tagListLabel,callback:function(e){t.tagListLabel=e},expression:"tagListLabel"}},t._l(t.options,function(t){return a("el-option",{key:t.categoryName,attrs:{label:t.categoryName,value:t.categoryName}})}),1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"goOut",attrs:{type:"primary"},on:{click:t.addNewSureTag}},[t._v("确 定")]),t._v(" "),a("el-button",{on:{click:function(e){t.newAddTag=!1}}},[t._v("取 消")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"查看标签数据",center:"",visible:t.seeTagData},on:{"update:visible":function(e){t.seeTagData=e}}},[a("div",{staticClass:"tagData"},[a("ul",{staticClass:"tagDataUl"},[a("li",[t._v("个人号名称")]),t._v(" "),a("li",[t._v("粉丝数量"+t._s(t.seeList.length))])]),t._v(" "),t.seeList.length>0?a("div",[a("ul",{staticClass:"groupMin-wrapper"},t._l(t.seeList,function(e,s){return a("li",{key:s,staticClass:"groupMinLi-wrapper"},[a("ul",{staticClass:"groupMinDanCon tagGroupCon"},[a("li",{staticClass:"groupFileName",staticStyle:{"text-align":"left",padding:"0px 10px","box-sizing":"border-box"}},[t._v("\n                    "+t._s(e.personalName)+"\n                  ")]),t._v(" "),a("li",[t._v(t._s(e.peopleNum))])])])}),0)]):a("div",{staticClass:"noData"},[t._v("暂无数据")])])]),t._v(" "),a("el-dialog",{attrs:{title:"编辑粉丝标签",center:"",visible:t.editTags},on:{"update:visible":function(e){t.editTags=e}}},[a("div",{staticClass:"fansTag"},[a("el-form",[a("el-form-item",{attrs:{label:"标 签 名 称：","label-width":"150px"}},[a("el-input",{attrs:{placeholder:"请输入标签名称，12字以内"},model:{value:t.editTagName,callback:function(e){t.editTagName=e},expression:"editTagName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"标 签 类 别：","label-width":"150px"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{click:t.tagChange},model:{value:t.tagList,callback:function(e){t.tagList=e},expression:"tagList"}},t._l(t.options,function(t){return a("el-option",{key:t.categoryName,attrs:{label:t.categoryName,value:t.categoryName}})}),1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"goOut",attrs:{type:"primary"},on:{click:t.editNewSureTag}},[t._v("确 定")]),t._v(" "),a("el-button",{on:{click:function(e){t.editTags=!1}}},[t._v("取 消")])],1)])],1)},staticRenderFns:[]};var g=a("C7Lr")(o,r,!1,function(t){a("pyWn"),a("t4fz")},"data-v-408236a8",null);e.default=g.exports},pyWn:function(t,e){},t4fz:function(t,e){}});